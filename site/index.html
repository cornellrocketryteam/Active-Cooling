<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Project Report</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      position: relative;
    }
    #sidebar {
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      padding-top: 2rem;
      background-color: #f8f9fa;
      border-right: 1px solid #dee2e6;
    }
    #main {
      margin-left: 220px;
      padding: 2rem;
    }
    .section {
      padding-top: 30px;
      margin-bottom: 30px;
    }
  </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#sidebar" data-bs-offset="100" tabindex="0">

  <nav id="sidebar" class="position-fixed bg-light rounded border p-4" 
     style="top: 2rem; left: 2rem; width: 220px; max-height: 90vh; overflow-y: auto;">

  <h5 class="fw-bold mb-4">Sections</h5>
  <nav class="nav flex-column">
    <a class="nav-link text-primary fw-medium" href="#introduction">Introduction</a>
    <a class="nav-link text-primary fw-medium" href="#highlevel">High Level Design</a>
    <a class="nav-link text-primary fw-medium" href="#hardware">Hardware Design</a>
    <a class="nav-link text-primary fw-medium" href="#program">Program Design</a>
    <a class="nav-link text-primary fw-medium" href="#results">Results</a>
    <a class="nav-link text-primary fw-medium" href="#conclusions">Conclusions</a>
    <a class="nav-link text-primary fw-medium" href="#appendices">Appendices</a>
  </nav>
</nav>

    <!-- Main content -->
    <div id="main" class="flex-grow-1" style="margin-left: 270px; padding-top: 2rem;">
      <header class="mb-5">
        <!-- <h1>Active Cooling System</h1>
        <p class="lead">for high powered rocket infrastructure</p>
        <a class="btn btn-primary" href="#">
        <i class="fab fa-github me-1"></i> Source
      </a>
        <a class="btn btn-outline-primary" href="#">Demo</a>
        <p class="mt-3"><strong>Cameron Goddard, Nandita Nagarajan, Nissi Ragland</strong></p> -->

        <div class="card w-50 mb-3 bg-light">
          <div class="card-body">
            <h1 class="card-title fw-bold">Active Cooling System</h1>
            <p class="card-text fs-5 fw-normal mb-5">for high powered rocket infrastructure</p>
            <a class="btn btn-primary me-2" href="https://github.com/cornellrocketryteam/Active-Cooling">
              <i class="fab fa-github me-1"></i> GitHub
            </a>
            <a class="btn btn-primary" href="https://www.youtube.com/watch?v=kwYBSgyLhlI">
              <i class="fab fa-youtube me-1"></i> Demo
            </a>
        </div>
</div>

      </header>

      <section id="introduction" class="section">
        <h2>Introduction</h2>
        
      </section>

      <section id="highlevel" class="section">
        <h2>High Level Design</h2>

      </section>

      <section id="hardware" class="section">
        <h2>Hardware Design</h2>

      </section>

      <section id="software" class="section">
        <h2>Software Design</h2>

         <h5 class="mt-5 mb-2">Pico</h5>

        <h5 class="mt-5 mb-2">iPhone App</h5>

        <p>
          The app was built in Xcode using Swift, a language created by Apple specifically for development on their platforms. To maximize usability, the frontend was built first so we could see and iterate upon how the data was going to look to the user. I chose to build the frontend using Xcode’s storyboard feature, in which you can lay out all user interface elements visually onto a mock iPhone screen, which eliminates a lot of the pain and tedium of doing it through code only. 
          As each view has its own storyboard, there is one for the thermal view, fan view, and the fan control windows. Each of these views has its own view controller class which manages, via Swift code, how the view responds to user interaction and dynamic data. Here, I store things like backing arrays for the charts of data, or other things like button states. Every iOS app is rigidly structured according to the Model-View-Controller paradigm, so there is not a whole lot of freedom to custom design the software architecture. For the backend, the majority of the functionality came from implementing the Bluetooth interface.
        </p>

        <figure class="text-center">
          <img src="img/storyboard.png" width="400" alt="Storyboards">
          <figcaption class="text-muted mt-2">UI design in Xcode</figcaption>
        </figure>
        
        <p>
          Apple provides many native libraries for interacting with the iPhone’s hardware, such as the Core Bluetooth package for its Bluetooth modem. Using this package, I created a BluetoothManager singleton class which extends from two important Core Bluetooth packages: <code>CBCentralManagerDelegate</code> and <code>CBPeripheralDelegate</code>. <code>CBCentralManagerDelegate</code> allows the app to manage scanning for and connecting to nearby Bluetooth peripherals, while <code>CBPeripheralDelegate</code> handles events related to the connected peripheral, such as discovering services and receiving data from characteristics. 
          To extend from these two classes, you must implement a set of required methods to specify things like which primary service to look for and which characteristics to process. The vast majority of Bluetooth functionality for the app came from implementing these methods. One of these methods, <code>didUpdateValueFor</code>, is called whenever a known characteristic is updated. Thus, if, for example, a new temperature reading on thermometer 1 is received, I update the backing data array for the thermometer 1 chart and refresh the UI for that chart specifically, enabling automatic UI updates as new Bluetooth data comes in.
        </p>

        <p>
          When the app is opened, the BluetoothManager class is initialized and no additional configuration is required from the user.
        </p>
      </section>

      <section id="results" class="section">
        <h2>Results</h2>

      </section>

      <section id="conclusions" class="section">
        <h2>Conclusions</h2>

        <p>
          Overall, we met most of our goals for our active cooling system. Our project enables us to easily and wirelessly monitor the temperature within the fill station electronics box, and maintain controlled temperature regulation through our fans as well. 
          We also learned how to use Bluetooth functionality on both the Pico as well as the iPhone. Due to time and logistical difficulties, one part of our project that we did not get to was integrating the thermal camera. One thing we might’ve done differently was to focus on getting the Bluetooth infrastructure up and running much earlier in the project, as that was the big unknown for all of us going into it.
        </p>
          
        <h5 class="mt-5 mb-2">Conformance to Applicable Standards</h5>
          
        <p>
          Our project conforms to the Bluetooth Low Energy protocol.
        </p>

        <h5 class="mt-5 mb-2">Intellectual Property Considerations</h5>

        <p>
          The app code relied heavily on Apple’s own libraries, as is typical when building for Apple platforms. The Pico code also utilized files and structure from Hunter’s Bluetooth RP2040 Demo, as well as some temperature sensor driver code from Bosch. 
          We don’t see any immediate patent opportunities for our project, as it is highly specialized to our specific use case for our rocket.
        </p>
      
      </section>

      <section id="appendices" class="section">
        <h2>Appendices</h2>

        <h5 class="mt-4 mb-2">Appendix A</h5>

        <p>
          The group approves this report for inclusion on the course website. The group approves the video for inclusion on the course youtube channel.
        </p>

        <h5 class="mt-4 mb-2">Appendix B</h5>

        <p>
          All of our code is on our <a href="https://github.com/cornellrocketryteam/Active-Cooling">GitHub repository</a>.
        </p>

      </section>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

